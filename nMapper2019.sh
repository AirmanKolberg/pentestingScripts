#!/bin/bash

# This is the NMapper Automated Tool
# Update; April, 2019

clear
echo "-----This is your all-in-one NMAPping tool-----"

echo "Select wordlist:"
echo ""
ls | grep -v .sh
echo ""
echo "Your selection:"
read wordList




# ----------FUNCTIONS----------

os_detectionA()

{

clear
echo "Sit back, this one's gonna take a bit..."
echo "Aggressive OS Scan:" >> osScanAggressive.txt
echo "----------" >> osScanAggressive.txt
nmap -Pn -A -sV -sS -O --osscan-guess -iL $wordList >> osScanAggressive.txt

clear
echo "All complete, here it is!"
echo ""
echo ""
cat osScanAggressive.txt

exit

}


os_detectionN()

{

clear
echo "This may take a moment..."
echo "Normal OS Scan:" >> osScan.txt
echo "----------" >> osScan.txt
nmap -Pn -O -iL $wordList >> osScan.txt

clear
echo "All complete, here it is!"
echo ""
echo ""
cat osScan.txt

exit

}


os_detectionP()

{

clear
echo "One moment, please!"
echo "Passive OS Scan:" >> osScanPassive.txt
echo "----------" >> osScanPassive.txt
nmap -Pn -A -O --osscan-guess -iL $wordList >> osScanPassive.txt

clear
echo "All complete, here it is!"
echo ""
echo ""
cat osScanPassive.txt

exit

}


port_scanner()

{

clear
echo "Sit back, this may take a bit!"
echo "Port scan:" >> portScan.txt
echo "----------" >> portScan.txt
nmap -Pn -p- -iL $wordList >> portScan.txt

clear
echo "All complete, here it is!"
echo ""
echo ""
cat portScan.txt

exit

}




# ----------MAIN MENU----------

clear
PS3='Select the following tool: '
options=("Aggressive OS Detection" "Normal OS Detection" "Passive OS Detection" "Port Scanning")
select opt in "${options[@]}"
do
	case $opt in
		"Aggressive OS Detection")
			os_detectionA
			;;
		"Normal OS Detection")
			os_detectionN
			;;
        	"Passive OS Detection")
      			os_detectionP
            		;;
        	"Port Scanning")
            		port_scanner
            		;;
        	*) echo "$REPLY was not then, nor is it now, nor will it ever be a valid input.  Please try again.";;
        esac
done
